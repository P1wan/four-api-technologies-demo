<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compara√ß√£o de Tecnologias de Invoca√ß√£o Remota</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .card {
            transition: transform 0.2s;
            margin-bottom: 20px;
            height: 100%;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .tech-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .header {
            background: linear-gradient(135deg, #6c5ce7, #a8a4e6);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        .btn-purple {
            background-color: #6f42c1;
            border-color: #6f42c1;
            color: white;
        }
        .btn-purple:hover {
            background-color: #5a359a;
            border-color: #5a359a;
            color: white;
        }
        .btn-warning-custom {
            background-color: #ffc107;
            border-color: #ffc107;
            color: #212529;
        }
        .btn-warning-custom:hover {
            background-color: #e0a800;
            border-color: #d39e00;
            color: #212529;
        }
        .row-equal-height {
            display: flex;
            flex-wrap: wrap;
        }
        .row-equal-height > [class*='col-'] {
            display: flex;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-online {
            background-color: #28a745;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        .tech-details {
            font-size: 0.9rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="header text-center">
        <div class="container">
            <h1 class="display-4">Compara√ß√£o de Tecnologias de Invoca√ß√£o Remota</h1>
            <p class="lead">Demonstra√ß√£o pr√°tica de REST, GraphQL, SOAP e gRPC</p>
            <small class="text-light">Trabalho de Computa√ß√£o Distribu√≠da - 2025</small>
        </div>
    </div>

    <div class="container">
        <!-- Indicadores de Status -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="alert alert-info">
                    <h5 class="alert-heading">Status dos Servi√ßos</h5>
                    <div class="row">
                        <div class="col-md-3">
                            <span class="status-indicator status-online"></span>
                            <strong>REST:</strong> <span id="rest-status">Carregando...</span>
                        </div>
                        <div class="col-md-3">
                            <span class="status-indicator status-online"></span>
                            <strong>GraphQL:</strong> <span id="graphql-status">Carregando...</span>
                        </div>
                        <div class="col-md-3">
                            <span class="status-indicator status-online"></span>
                            <strong>SOAP:</strong> <span id="soap-status">Carregando...</span>
                        </div>
                        <div class="col-md-3">
                            <span class="status-indicator status-online"></span>
                            <strong>gRPC:</strong> <span id="grpc-status">Carregando...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cards das Tecnologias -->
        <div class="row row-equal-height">
            <!-- REST API -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body d-flex flex-column">
                        <div class="tech-icon text-primary">üîµ</div>
                        <h4 class="card-title">REST API</h4>
                        <p class="card-text flex-grow-1">
                            Interface REST completa com Swagger UI para documenta√ß√£o interativa.
                            Teste todos os endpoints e visualize as respostas JSON em tempo real.
                        </p>
                        <div class="tech-details mb-3">
                            <small><strong>Porta:</strong> 8000<br>
                            <strong>Protocolo:</strong> HTTP/HTTPS<br>
                            <strong>Formato:</strong> JSON</small>
                        </div>
                        <div class="mt-auto">
                            <a href="http://localhost:8000/docs" target="_blank" class="btn btn-primary mb-2">Documenta√ß√£o Swagger</a><br>
                            <a href="/rest" class="btn btn-outline-primary">Interface Cliente</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GraphQL -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body d-flex flex-column">
                        <div class="tech-icon text-purple">üü£</div>
                        <h4 class="card-title">GraphQL</h4>
                        <p class="card-text flex-grow-1">
                            Interface GraphQL com GraphiQL para constru√ß√£o e teste de queries.
                            Experimente a flexibilidade de consultas sob demanda e tipagem forte.
                        </p>
                        <div class="tech-details mb-3">
                            <small><strong>Porta:</strong> 8001<br>
                            <strong>Protocolo:</strong> HTTP POST<br>
                            <strong>Formato:</strong> JSON + SDL</small>
                        </div>
                        <div class="mt-auto">
                            <a href="http://localhost:8001/graphql" target="_blank" class="btn btn-purple mb-2">GraphiQL Editor</a><br>
                            <a href="/graphql" class="btn btn-outline-secondary">Interface Cliente</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SOAP -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body d-flex flex-column">
                        <div class="tech-icon text-warning">üü°</div>
                        <h4 class="card-title">SOAP</h4>
                        <p class="card-text flex-grow-1">
                            Interface SOAP com WSDL completo para opera√ß√µes enterprise.
                            Teste chamadas SOAP com envelope XML e valida√ß√£o rigorosa.
                        </p>
                        <div class="tech-details mb-3">
                            <small><strong>Porta:</strong> 8004<br>
                            <strong>Protocolo:</strong> HTTP + XML<br>
                            <strong>Formato:</strong> XML/WSDL</small>
                        </div>
                        <div class="mt-auto">
                            <a href="http://localhost:8004/?wsdl" target="_blank" class="btn btn-warning-custom mb-2">Visualizar WSDL</a><br>
                            <a href="/soap" class="btn btn-outline-warning">Interface Cliente</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- gRPC -->
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="card text-center h-100">
                    <div class="card-body d-flex flex-column">
                        <div class="tech-icon text-success">üü¢</div>
                        <h4 class="card-title">gRPC</h4>
                        <p class="card-text flex-grow-1">
                            Interface gRPC com Protocol Buffers para alta performance.
                            Teste streaming bidirecional e serializa√ß√£o bin√°ria eficiente.
                        </p>
                        <div class="tech-details mb-3">
                            <small><strong>Porta:</strong> 50051<br>
                            <strong>Protocolo:</strong> HTTP/2<br>
                            <strong>Formato:</strong> Protocol Buffers</small>
                        </div>
                        <div class="mt-auto">
                            <a href="http://localhost:8003" target="_blank" class="btn btn-success mb-2">gRPC-Web Proxy</a><br>
                            <a href="/grpc" class="btn btn-outline-success">Interface Cliente</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Se√ß√£o de Compara√ß√£o -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="mb-0">An√°lise Comparativa das Tecnologias</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Caracter√≠sticas T√©cnicas</h5>
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Tecnologia</th>
                                            <th>Protocolo</th>
                                            <th>Performance</th>
                                            <th>Complexidade</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><span class="text-primary">‚óè</span> REST</td>
                                            <td>HTTP/JSON</td>
                                            <td>M√©dia</td>
                                            <td>Baixa</td>
                                        </tr>
                                        <tr>
                                            <td><span class="text-purple">‚óè</span> GraphQL</td>
                                            <td>HTTP/JSON</td>
                                            <td>M√©dia-Alta</td>
                                            <td>M√©dia</td>
                                        </tr>
                                        <tr>
                                            <td><span class="text-warning">‚óè</span> SOAP</td>
                                            <td>HTTP/XML</td>
                                            <td>Baixa-M√©dia</td>
                                            <td>Alta</td>
                                        </tr>
                                        <tr>
                                            <td><span class="text-success">‚óè</span> gRPC</td>
                                            <td>HTTP/2+ProtoBuf</td>
                                            <td>Alta</td>
                                            <td>M√©dia-Alta</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <h5>Casos de Uso Recomendados</h5>
                                <ul class="list-unstyled">
                                    <li><span class="text-primary">üîµ REST:</span> APIs p√∫blicas, aplica√ß√µes web simples, prototipagem r√°pida</li>
                                    <li><span class="text-purple">üü£ GraphQL:</span> Aplica√ß√µes m√≥veis, dashboards complexos, APIs flex√≠veis</li>
                                    <li><span class="text-warning">üü° SOAP:</span> Sistemas enterprise, transa√ß√µes cr√≠ticas, compliance rigoroso</li>
                                    <li><span class="text-success">üü¢ gRPC:</span> Microsservi√ßos internos, streaming de dados, alta performance</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Se√ß√£o de Testes de Carga -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Testes de Performance e Carga</h4>
                        <p class="card-text">
                            Para uma an√°lise completa das tecnologias, utilize o sistema de testes de carga integrado
                            que permite comparar m√©tricas de performance como lat√™ncia, throughput e taxa de sucesso.
                        </p>
                        <div class="alert alert-info">
                            <strong>Como executar:</strong> No terminal da aplica√ß√£o, digite <code>test</code> para acessar 
                            o sistema de testes de carga. Escolha entre teste r√°pido (2 minutos) ou completo (15 minutos).
                        </div>
                        <div class="d-flex gap-2">
                            <button class="btn btn-primary" onclick="window.open('/reports', '_blank')">Ver Relat√≥rios</button>
                            <button class="btn btn-outline-primary" onclick="alert('Digite \'test\' no terminal da aplica√ß√£o para executar testes de carga')">Executar Testes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light text-center text-muted py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">Trabalho de Computa√ß√£o Distribu√≠da - 2025</p>
                </div>
                <div class="col-md-6">
                    <p class="mb-0">Demonstra√ß√£o de Tecnologias de Invoca√ß√£o Remota</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Script para verificar status dos servi√ßos -->
    <script>
        async function checkServiceStatus() {
            const services = [
                { name: 'rest', url: 'http://localhost:8000/usuarios', elementId: 'rest-status' },
                { name: 'graphql', url: 'http://localhost:8001/graphql', elementId: 'graphql-status', method: 'POST', body: JSON.stringify({ query: '{ usuarios { id } }' }) },
                { name: 'soap', url: 'http://localhost:8004/?wsdl', elementId: 'soap-status' },
                { name: 'grpc', url: 'http://localhost:8003', elementId: 'grpc-status' }
            ];

            for (const service of services) {
                try {
                    const options = {
                        method: service.method || 'GET',
                        headers: service.method === 'POST' ? { 'Content-Type': 'application/json' } : {},
                        body: service.body || undefined
                    };

                    const response = await fetch(service.url, options);
                    const element = document.getElementById(service.elementId);
                    
                    if (response.ok) {
                        element.textContent = 'Online';
                        element.style.color = '#28a745';
                    } else {
                        element.textContent = `Erro ${response.status}`;
                        element.style.color = '#dc3545';
                    }
                } catch (error) {
                    const element = document.getElementById(service.elementId);
                    element.textContent = 'Offline';
                    element.style.color = '#dc3545';
                }
            }
        }

        // Verificar status inicial
        document.addEventListener('DOMContentLoaded', checkServiceStatus);
        
        // Verificar status a cada 30 segundos
        setInterval(checkServiceStatus, 30000);
    </script>
</body>
</html>